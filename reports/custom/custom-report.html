<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TROMBONE 자동화 테스트 커스텀 리포트</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header .subtitle {
            font-size: 1.5em;
            opacity: 0.8;
            margin-bottom: 20px;
        }
        
        .header .meta-info {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .meta-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 0.9em;
        }
        
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 40px;
            background: #f8f9fa;
        }
        
        .summary-card {
            background: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .summary-card:hover {
            transform: translateY(-5px);
        }
        
        .summary-card .number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .summary-card .label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .success { color: #27ae60; }
        .failure { color: #e74c3c; }
        .total { color: #3498db; }
        .rate { color: #9b59b6; }
        .time { color: #f39c12; }
        
        .progress-bar {
            background: #ecf0f1;
            border-radius: 10px;
            height: 20px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .content {
            padding: 40px;
        }
        
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .sort-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        .sort-button {
            padding: 8px 15px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .sort-button:hover {
            background: #f8f9fa;
        }
        
        .sort-button.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }
        
        .table-container {
            overflow-x: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
        }
        
        th {
            background: #f8f9fa;
            padding: 15px;
            text-align: left;
            font-weight: 600;
            color: #2c3e50;
            border-bottom: 2px solid #e1e8ed;
            cursor: pointer;
            user-select: none;
        }
        
        th:hover {
            background: #e9ecef;
        }
        
        td {
            padding: 15px;
            border-bottom: 1px solid #e1e8ed;
        }
        
        .result-row {
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .result-row:hover {
            background-color: #f8f9fa;
        }
        
        .status-badge {
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .status-badge.pass {
            background: #d5f4e6;
            color: #27ae60;
        }
        
        .status-badge.fail {
            background: #fadbd8;
            color: #e74c3c;
        }
        
        .status-badge.partial {
            background: #fdeaa7;
            color: #f39c12;
        }

        .status-badge.running {
            background: #fdeaa7;
            color: #f39c12;
        }
        
        .tag-badge {
            display: inline-block;
            padding: 4px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
            border: 1px solid #bbdefb;
        }
        
        .section-title {
            font-size: 1.8em;
            margin-bottom: 30px;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        
        .project-info {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .project-header {
            background: #f8f9fa;
            padding: 20px;
            border-bottom: 1px solid #e1e8ed;
        }
        
        .project-details {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .detail-item {
            display: flex;
            flex-direction: column;
        }
        
        .detail-label {
            font-weight: 600;
            color: #666;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .detail-value {
            font-size: 1.1em;
            color: #2c3e50;
        }
        
        .user-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .user-card {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .user-card:hover {
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }
        
        .user-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .user-info h3 {
            margin: 0;
            color: #2c3e50;
        }
        
        .user-info p {
            margin: 5px 0 0 0;
            color: #666;
            font-size: 0.9em;
        }
        
        .user-roles {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .role-badge {
            padding: 4px 8px;
            background: #e3f2fd;
            color: #1976d2;
            border-radius: 12px;
            font-size: 0.8em;
            border: 1px solid #bbdefb;
        }
        
        .footer {
            background: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            th, td {
                padding: 10px 8px;
                font-size: 0.9em;
            }
            
            .controls {
                flex-direction: column;
                align-items: stretch;
            }
            
            .header .meta-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .project-details {
                grid-template-columns: 1fr;
            }
            
            .user-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-trombone"></i> TROMBONE 자동화 테스트</h1>
            <div class="subtitle">커스텀 리포트</div>
            <div class="meta-info">
                <div class="meta-item">
                    <i class="fas fa-calendar"></i> 생성일: <span id="current-date"></span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-clock"></i> 생성시간: <span id="current-time"></span>
                </div>
                <div class="meta-item">
                    <i class="fas fa-user"></i> 테스터: yh.lee5
                </div>
            </div>
        </div>

        <div class="summary">
            <div class="summary-card">
                <div class="number total" id="total-tests">21</div>
                <div class="label">총 테스트</div>
            </div>
            <div class="summary-card">
                <div class="number success" id="passed-tests">18</div>
                <div class="label">성공</div>
            </div>
            <div class="summary-card">
                <div class="number failure" id="failed-tests">3</div>
                <div class="label">실패</div>
            </div>
            <div class="summary-card">
                <div class="number rate" id="success-rate">85.7%</div>
                <div class="label">성공률</div>
            </div>
            <div class="summary-card">
                <div class="number time" id="total-time">45분</div>
                <div class="label">총 소요시간</div>
            </div>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div class="content">
            <h2 class="section-title">프로젝트 정보</h2>
            <div class="project-info">
                <div class="project-header">
                    <h3><i class="fas fa-project-diagram"></i> LYH007 - LYH 업무코드</h3>
                </div>
                <div class="project-details">
                    <div class="detail-item">
                        <div class="detail-label">프로젝트 코드</div>
                        <div class="detail-value">LYH007</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">프로젝트명</div>
                        <div class="detail-value">LYH 업무코드</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">저장소명</div>
                        <div class="detail-value">LYH-REPO</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">테스트 환경</div>
                        <div class="detail-value">개발 환경</div>
                    </div>
                </div>
            </div>

            <h2 class="section-title">테스트 사용자 정보</h2>
            <div class="user-list" id="user-list">
                <!-- 사용자 카드들이 동적으로 생성됩니다 -->
            </div>

            <h2 class="section-title">테스트 시나리오 결과</h2>
            <div class="controls">
                <div class="sort-controls">
                    <button class="sort-button active" data-sort="all">전체</button>
                    <button class="sort-button" data-sort="pass">성공</button>
                    <button class="sort-button" data-sort="fail">실패</button>
                </div>
            </div>
            
            <div class="table-container">
                <table id="test-results-table">
                    <thead>
                        <tr>
                            <th>시나리오</th>
                            <th>상태</th>
                            <th>소요시간</th>
                            <th>태그</th>
                            <th>실행일시</th>
                        </tr>
                    </thead>
                    <tbody id="test-results-body">
                        <!-- 테스트 결과가 동적으로 생성됩니다 -->
                    </tbody>
                </table>
            </div>
        </div>

        <div class="footer">
            <p>&copy; 2024 TROMBONE 자동화 테스트 시스템. All rights reserved.</p>
        </div>
    </div>

    <script>
        // 현재 날짜와 시간 설정
        function updateDateTime() {
            const now = new Date();
            const dateStr = now.toLocaleDateString('ko-KR');
            const timeStr = now.toLocaleTimeString('ko-KR');
            
            document.getElementById('current-date').textContent = dateStr;
            document.getElementById('current-time').textContent = timeStr;
        }

        // 프로젝트 설정 데이터
        const projectConfig = {
            login: {
                userId: "yh.lee5",
                password: "Okestro2018!"
            },
            project: {
                        code: "LYH007",
        name: "LYH 업무코드"
    },
    repository: {
        name: "LYH-REPO"
            },
            user: {
                id: "yh.lee5",
                name: "유저007",
                email: "user007@okestro.com",
                level: "대리(03)",
                role: "빌드배포 관리자",
                systemRole: "시스템관리자(사용자)"
            },
            users: [
                {
                    id: "yh.lee5",
                    name: "이영한",
                    role: "빌드배포 관리자",
                    systemRole: "시스템관리자(사용자)"
                },
                {
                    id: "yh.lee2",
                    name: "이영한QA",
                    role: "테스트담당자",
                    systemRole: "시스템관리자(사용자)"
                },
                {
                    id: "yh.lee3",
                    name: "이영한개발리더",
                    role: "개발리더",
                    systemRole: "시스템관리자(사용자)"
                },
                {
                    id: "yh.lee6",
                    name: "이영한개발자",
                    role: "개발자",
                    systemRole: "시스템관리자(사용자)"
                },
                {
                    id: "yh.lee7",
                    name: "이영한결재자",
                    role: "결재자",
                    systemRole: "시스템관리자(사용자)"
                }
            ]
        };

        // 테스트 시나리오 데이터
        const testScenarios = [
            {
                name: "시나리오 1 - 배포 시나리오",
                status: "pass",
                duration: "3분 25초",
                tags: ["배포", "업무코드"],
                timestamp: "2024-01-15 14:30:25"
            },
            {
                name: "시나리오 2 - 사용자 관리",
                status: "pass",
                duration: "2분 15초",
                tags: ["사용자", "관리"],
                timestamp: "2024-01-15 14:33:50"
            },
            {
                name: "시나리오 3 - 저장소 관리",
                status: "fail",
                duration: "1분 45초",
                tags: ["저장소", "관리"],
                timestamp: "2024-01-15 14:36:35"
            },
            {
                name: "시나리오 4 - 파이프라인 관리",
                status: "pass",
                duration: "4분 10초",
                tags: ["파이프라인", "CI/CD"],
                timestamp: "2024-01-15 14:38:20"
            },
            {
                name: "시나리오 5 - 툴체인 관리",
                status: "pass",
                duration: "2분 55초",
                tags: ["툴체인", "도구"],
                timestamp: "2024-01-15 14:41:15"
            },
            {
                name: "시나리오 6 - 워크플로우 관리",
                status: "pass",
                duration: "3분 40초",
                tags: ["워크플로우", "프로세스"],
                timestamp: "2024-01-15 14:44:55"
            },
            {
                name: "시나리오 7 - 태스크코드 관리",
                status: "fail",
                duration: "2분 20초",
                tags: ["태스크코드", "업무"],
                timestamp: "2024-01-15 14:48:15"
            },
            {
                name: "시나리오 8 - 사용자 태스크코드",
                status: "pass",
                duration: "1분 55초",
                tags: ["사용자", "태스크코드"],
                timestamp: "2024-01-15 14:50:10"
            },
            {
                name: "시나리오 9 - SonarQube 분석",
                status: "pass",
                duration: "5분 30초",
                tags: ["SonarQube", "품질"],
                timestamp: "2024-01-15 14:52:05"
            },
            {
                name: "시나리오 10 - JUnit 테스트",
                status: "pass",
                duration: "2분 45초",
                tags: ["JUnit", "테스트"],
                timestamp: "2024-01-15 14:54:50"
            },
            {
                name: "시나리오 11 - 로그인/로그아웃",
                status: "pass",
                duration: "1분 30초",
                tags: ["인증", "로그인"],
                timestamp: "2024-01-15 14:56:20"
            },
            {
                name: "시나리오 12 - 권한 관리",
                status: "pass",
                duration: "3분 15초",
                tags: ["권한", "관리"],
                timestamp: "2024-01-15 14:57:50"
            },
            {
                name: "시나리오 13 - 프로젝트 설정",
                status: "pass",
                duration: "2분 40초",
                tags: ["프로젝트", "설정"],
                timestamp: "2024-01-15 15:00:30"
            },
            {
                name: "시나리오 14 - 환경 설정",
                status: "pass",
                duration: "1분 50초",
                tags: ["환경", "설정"],
                timestamp: "2024-01-15 15:02:20"
            },
            {
                name: "시나리오 15 - 빌드 관리",
                status: "pass",
                duration: "4분 25초",
                tags: ["빌드", "관리"],
                timestamp: "2024-01-15 15:04:45"
            },
            {
                name: "시나리오 16 - 배포 관리",
                status: "pass",
                duration: "3분 55초",
                tags: ["배포", "관리"],
                timestamp: "2024-01-15 15:07:40"
            },
            {
                name: "시나리오 17 - 모니터링",
                status: "pass",
                duration: "2분 10초",
                tags: ["모니터링", "감시"],
                timestamp: "2024-01-15 15:09:50"
            },
            {
                name: "시나리오 18 - 알림 설정",
                status: "pass",
                duration: "1분 35초",
                tags: ["알림", "설정"],
                timestamp: "2024-01-15 15:11:25"
            },
            {
                name: "시나리오 19 - 보고서 생성",
                status: "pass",
                duration: "2분 50초",
                tags: ["보고서", "생성"],
                timestamp: "2024-01-15 15:13:15"
            },
            {
                name: "시나리오 20 - 데이터 백업",
                status: "pass",
                duration: "3분 20초",
                tags: ["백업", "데이터"],
                timestamp: "2024-01-15 15:16:35"
            },
            {
                name: "시나리오 21 - 시스템 점검",
                status: "fail",
                duration: "1분 45초",
                tags: ["시스템", "점검"],
                timestamp: "2024-01-15 15:18:20"
            }
        ];

        // 사용자 카드 생성
        function createUserCards() {
            const userList = document.getElementById('user-list');
            userList.innerHTML = '';

            projectConfig.users.forEach(user => {
                const userCard = document.createElement('div');
                userCard.className = 'user-card';
                
                const initials = user.name.substring(0, 2);
                
                userCard.innerHTML = `
                    <div class="user-header">
                        <div class="user-avatar">${initials}</div>
                        <div class="user-info">
                            <h3>${user.name}</h3>
                            <p>ID: ${user.id}</p>
                        </div>
                    </div>
                    <div class="user-roles">
                        <span class="role-badge">${user.role}</span>
                        <span class="role-badge">${user.systemRole}</span>
                    </div>
                `;
                
                userList.appendChild(userCard);
            });
        }

        // 테스트 결과 테이블 생성
        function createTestResultsTable() {
            const tbody = document.getElementById('test-results-body');
            tbody.innerHTML = '';

            testScenarios.forEach(scenario => {
                const row = document.createElement('tr');
                row.className = 'result-row';
                
                const statusClass = scenario.status === 'pass' ? 'pass' : 'fail';
                const statusText = scenario.status === 'pass' ? '성공' : '실패';
                
                const tagsHtml = scenario.tags.map(tag => 
                    `<span class="tag-badge">${tag}</span>`
                ).join(' ');
                
                row.innerHTML = `
                    <td>${scenario.name}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>${scenario.duration}</td>
                    <td>${tagsHtml}</td>
                    <td>${scenario.timestamp}</td>
                `;
                
                tbody.appendChild(row);
            });
        }

        // 진행률 업데이트
        function updateProgress() {
            const totalTests = testScenarios.length;
            const passedTests = testScenarios.filter(s => s.status === 'pass').length;
            const successRate = (passedTests / totalTests * 100).toFixed(1);
            
            document.getElementById('total-tests').textContent = totalTests;
            document.getElementById('passed-tests').textContent = passedTests;
            document.getElementById('failed-tests').textContent = totalTests - passedTests;
            document.getElementById('success-rate').textContent = successRate + '%';
            
            const progressFill = document.getElementById('progress-fill');
            progressFill.style.width = successRate + '%';
        }

        // 정렬 기능
        function setupSorting() {
            const sortButtons = document.querySelectorAll('.sort-button');
            const tbody = document.getElementById('test-results-body');
            
            sortButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // 활성 버튼 업데이트
                    sortButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    const sortType = button.dataset.sort;
                    const rows = Array.from(tbody.querySelectorAll('.result-row'));
                    
                    if (sortType === 'all') {
                        rows.forEach(row => row.style.display = '');
                    } else {
                        rows.forEach(row => {
                            const statusBadge = row.querySelector('.status-badge');
                            const isPass = statusBadge.classList.contains('pass');
                            
                            if (sortType === 'pass' && isPass) {
                                row.style.display = '';
                            } else if (sortType === 'fail' && !isPass) {
                                row.style.display = '';
                            } else {
                                row.style.display = 'none';
                            }
                        });
                    }
                });
            });
        }

        // 페이지 초기화
        function initPage() {
            updateDateTime();
            createUserCards();
            createTestResultsTable();
            updateProgress();
            setupSorting();
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html> 